(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(70)},38:function(e,t,n){},39:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(30),c=n.n(l),o=(n(38),n(12)),s=n(1),i=n(2),u=n(4),m=n(3),d=n(5),h=(n(39),n(13)),g=n(16),f=n.n(g),p=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/currentUser").then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout").then(function(e){return e.data})};var n=f.a.create({baseURL:"".concat("https://cromatic-day.herokuapp.com/api","/auth"),withCredentials:!0});this.service=n},v=n(14),E=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then(function(){n.setState({username:"",password:"",saved:!0})}).catch(function(e){n.setState({username:t,password:a,error:!0})})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(v.a)({},a,r))},n.state={username:"",password:"",saved:!1},n.service=new p,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.saved?r.a.createElement(h.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome!, create your account next:"),r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Sign up"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(r.a.Component),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then(function(e){n.setState({username:t,password:a,logged:!0,error:!1},function(){return n.props.getUser(e)})}).catch(function(e){n.setState({username:t,password:a,error:!0})})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(v.a)({},a,r))},n.state={username:"",password:"",logged:!1},n.service=new p,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h3",null,"Please, login to our site"),r.a.createElement("form",{onSubmit:function(t){return e.handleFormSubmit(t)}},r.a.createElement("fieldset",null,r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("fieldset",null,r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("h1",null,this.state.error?"Error":""))}}]),t}(r.a.Component),O=n(6),j=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Home page"),r.a.createElement("button",null,r.a.createElement(O.b,{to:"/Login"},"Login")),r.a.createElement("button",null,r.a.createElement(O.b,{to:"/Signup"},"Signup")))}}]),t}(r.a.Component),w=(n(67),n(19),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).service=new p,n.state={loggedInUser:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.user?r.a.createElement("div",null,r.a.createElement("div",{className:"topHeader"},r.a.createElement("div",null,r.a.createElement("img",{src:"../img/logo.png"}))),r.a.createElement("div",{className:"loggedInIcons"},r.a.createElement(O.b,{to:"/profile",className:"icons"},r.a.createElement("i",{className:"fas fa-user-circle"})),r.a.createElement("i",{className:"fas fa-shopping-cart icons"})),r.a.createElement("div",{id:"menu"},r.a.createElement("div",{id:"nav",className:"columns"},r.a.createElement(O.b,{className:"column link",to:"/about-us"},"About us"),r.a.createElement(O.b,{className:"column link",to:"/events"},"Events"),r.a.createElement(O.b,{className:"column link",to:"/voucher"},"Voucher"),r.a.createElement(O.b,{className:"column link",to:"/contacts"},"Contacts")))):r.a.createElement("div",{className:"topHeader2"},r.a.createElement("div",null,r.a.createElement("img",{src:"../img/logo.png"}))))}}]),t}(r.a.Component)),k=function e(){var t=this;Object(s.a)(this,e),this.allGenres=function(){return t.service.get("/allGenres").then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.allArtworks=function(e){return t.service.get("/".concat(e)).then(function(e){return e.data}).catch(function(e){return console.log(e)})},this.oneArtwork=function(e,n){return t.service.get("/".concat(e,"/").concat(n)).then(function(e){return e.data}).catch(function(e){return console.log(e)})};var n=f.a.create({baseURL:"".concat("https://cromatic-day.herokuapp.com/api","/art"),withCredentials:!0});this.service=n},y=(n(68),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).showModal=function(e){console.log(e),document.getElementById(e).className="modal is-active"},n.closeModal=function(e){document.getElementById(e).className="modal"},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.artwork,n=this.props.idx;return r.a.createElement("div",{id:"m"+n,className:"modal"},r.a.createElement("div",{className:"modal-background"}),r.a.createElement("div",{className:"modal-card"},r.a.createElement("header",{className:"modal-card-head"},r.a.createElement("p",{className:"modal-card-title"},t.title),r.a.createElement("button",{className:"delete","aria-label":"close",onClick:function(){return e.closeModal("m"+n)}})),r.a.createElement("section",{className:"modal-card-body"},r.a.createElement("img",{src:t.primaryImageSmall,alt:"Placeholder image"}),r.a.createElement("p",null,t.date),r.a.createElement("p",null,t.price,"\u20ac")),r.a.createElement("footer",{className:"modal-card-foot"},r.a.createElement("button",{onClick:function(){return e.closeModal("m"+n)},className:"button"},"Cancel"))))}}]),t}(r.a.Component)),U=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).showModal=function(e){console.log(e),document.getElementById(e).className="modal is-active"},n.closeModal=function(e){document.getElementById(e).className="modal"},n.state={allArtworks:[]},n.ArtService=new k,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.ArtService.allArtworks(e.selectedGenre).then(function(e){t.setState(Object(o.a)({},t.state,{allArtworks:e}))})}},{key:"componentDidMount",value:function(){var e=this;this.ArtService.allArtworks(this.props.selectedGenre).then(function(t){e.setState(Object(o.a)({},e.state,{allArtworks:t}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"cuadros",className:"columns is-multiline is-8"},this.state.allArtworks.map(function(t,n){return r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("div",{className:"card",key:n},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:t.primaryImageSmall,alt:"Placeholder image"}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},t.title))),r.a.createElement("div",{className:"content"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus nec iaculis mauris.",r.a.createElement("br",null))),r.a.createElement("button",{onClick:function(){return e.showModal("m"+n)}},"Details")),r.a.createElement(y,{artwork:t,idx:n}))}))}}]),t}(r.a.Component),S=(n(69),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).findOjectBykey=function(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null},n.onlyOneGenre=function(e){var t=[];return e.forEach(function(e){0===t.length&&t.push(e),null==n.findOjectBykey(t,"genre",e.genre)&&t.push(e)}),t},n.showGenreArtworks=function(e){n.state.display,n.setState({genreSelected:e})},n.state={allGenres:[],genreSelected:void 0},n.ArtService=new k,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.ArtService.allGenres().then(function(t){e.setState(Object(o.a)({},e.state,{allGenres:t}))})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"collections"},this.onlyOneGenre(this.state.allGenres).map(function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("button",{onClick:function(){return e.showGenreArtworks(t.genre)}},r.a.createElement(O.b,{to:"/events/".concat(t.genre)},t.genre)))}),r.a.createElement("button",null,"Portraits"),r.a.createElement("button",null,"Andy Warhol"),r.a.createElement("button",null,"Jan Van Eyik"),r.a.createElement("button",null,"Frida kahlo")),void 0!==this.state.genreSelected&&r.a.createElement(U,{selectedGenre:this.state.genreSelected}))}}]),t}(r.a.Component)),N=function(e){function t(e){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,null))}}]),t}(r.a.Component),I=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLogout=function(){n.props.logout()},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.toggleHeader()}},{key:"componentWillUnmount",value:function(){this.props.toggleHeader()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(O.b,{to:"/"},r.a.createElement("button",{onClick:function(){return e.handleLogout()}},"Logout")),r.a.createElement("h1",null,"Profile"),r.a.createElement("h2",null,"reservas"))}}]),t}(r.a.Component),C=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).getUser=function(e){n.setState({loggedInUser:e})},n.state={loggedInUser:null},n.service=new p,n.getUser(),n.fetchUser(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){console.log(t),e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About Us"),r.a.createElement("p",null,"lorem ipsur since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktm"),r.a.createElement("img",{src:"/img/about.jpg"}))}}]),t}(r.a.Component),A=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleHeader=function(){var e=n.state.hide;n.setState(Object(o.a)({},n.state,{hide:!e}))},n.getUser=function(e){n.setState({loggedInUser:e})},n.logout=function(){console.log("cerrar sesi\xf3n"),n.service.logout().then(function(){n.setState({loggedInUser:null})})},n.state={loggedInUser:null,hide:!1},n.service=new p,n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,this.state.hide?r.a.createElement("div",{className:"topHeaderApp"},r.a.createElement("div",null,r.a.createElement("img",{src:"../img/logo.png"}))):r.a.createElement(w,{user:this.state.loggedInUser}),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:j}),r.a.createElement(h.b,{exact:!0,path:"/about-us",component:C}),r.a.createElement(h.b,{exact:!0,path:"/signup",render:function(){return e.state.loggedInUser?r.a.createElement(h.a,{to:"/events"}):r.a.createElement(E,null)}}),r.a.createElement(h.b,{exact:!0,path:"/login",render:function(){return e.state.loggedInUser?r.a.createElement(h.a,{to:"/events"}):r.a.createElement(b,{getUser:e.getUser})}}),r.a.createElement(h.b,{exact:!0,path:"/events",render:function(){return e.state.loggedInUser?r.a.createElement(N,{user:e.state.loggedInUser}):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{exact:!0,path:"/events/:genre",render:function(){return e.state.loggedInUser?r.a.createElement(N,null):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{exact:!0,path:"/events/:genre/:artworkId",render:function(){return e.state.loggedInUser?r.a.createElement(y,null):r.a.createElement(h.a,{to:"/login"})}}),r.a.createElement(h.b,{exact:!0,path:"/profile",render:function(){return e.state.loggedInUser?r.a.createElement(I,{getUser:e.getUser,logout:e.logout,toggleHeader:function(){return e.toggleHeader()}}):r.a.createElement(h.a,{to:"/login"})}})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O.a,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.ce41c0e5.chunk.js.map